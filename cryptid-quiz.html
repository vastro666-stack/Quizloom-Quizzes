<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Which Cryptid Are You?</title>
<style>
  body {
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    margin: 0;
    background: #f7f8fa;
    color: #111;
  }
  .quiz-container {
    max-width: 760px;
    margin: 2rem auto;
    background: #fff;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 0 10px rgba(0,0,0,0.05);
  }
  h1.quiz-title { font-size: 2rem; margin-bottom: .5rem; text-align: center; }
  .quiz-intro { opacity: .8; margin-bottom: 1.5rem; text-align: center; }
  .quiz-questions li { margin: 1rem 0; list-style: none; }
  .quiz-questions strong { display: block; margin-bottom: .25rem; }
  .quiz-questions label { display: block; margin: .35rem 0; cursor: pointer; }
  .quiz-submit {
    margin-top: 1.5rem; padding: .75rem 1rem; border: 0; border-radius: .5rem;
    cursor: pointer; background: #111; color: #fff; font-size: 1rem;
  }
  .quiz-submit:disabled { opacity: .4; cursor: not-allowed; }
  .quiz-result {
    display: none; margin-top: 2rem; padding: 1rem;
    border: 1px solid #eee; border-radius: .5rem; background: #fafafa; text-align: center;
  }
  .result-cta {
    display: none; margin-top: .75rem; text-decoration: none; padding: .6rem .9rem;
    border: 1px solid #111; border-radius: .5rem; color: #111;
  }
</style>
</head>
<body>
<div class="quiz-container">
  <h1 class="quiz-title"></h1>
  <div class="quiz-intro"></div>

  <ol class="quiz-questions"></ol>
  <button class="quiz-submit" disabled>See My Result</button>

  <div class="quiz-result">
    <h2 class="result-title"></h2>
    <p class="result-desc"></p>
    <a class="result-cta" href="#" rel="nofollow sponsored"></a>
  </div>
</div>

<script>
/* ---- QUIZ DATA (no JSON parsing; robust everywhere) ---- */
const QUIZ_DATA = {
  title: "Which Cryptid Are You?",
  intro: "Eight fast questions to reveal your inner cryptid. No email needed — see your result instantly.",
  questions: [
    { q: "Pick a habitat:", answers: [
      { t: "Foggy forests",      score: { wendigo: 1 } },
      { t: "Abandoned towns",    score: { mothman: 1 } },
      { t: "Deep lakes",         score: { loch: 1 } },
      { t: "Mountain trails",    score: { sas: 1 } }
    ]},
    { q: "Night skill check:", answers: [
      { t: "Silent tracking",    score: { sas: 1 } },
      { t: "Eerie warnings",     score: { mothman: 1 } },
      { t: "Endless stamina",    score: { wendigo: 1 } },
      { t: "Perfect camouflage", score: { loch: 1 } }
    ]},
    { q: "Choose a calling card:", answers: [
      { t: "Footprints",         score: { sas: 1 } },
      { t: "Red eyes in the dark", score: { mothman: 1 } },
      { t: "Icy breath",         score: { wendigo: 1 } },
      { t: "Ripple on still water", score: { loch: 1 } }
    ]},
    { q: "Your vibe:", answers: [
      { t: "Mysterious",         score: { mothman: 1 } },
      { t: "Patient",            score: { loch: 1 } },
      { t: "Relentless",         score: { wendigo: 1 } },
      { t: "Grounded",           score: { sas: 1 } }
    ]},
    { q: "Pick a soundtrack:", answers: [
      { t: "Distant drones",     score: { mothman: 1 } },
      { t: "Low strings",        score: { loch: 1 } },
      { t: "Tribal drums",       score: { sas: 1 } },
      { t: "Howling wind",       score: { wendigo: 1 } }
    ]},
    { q: "Weapon of choice:", answers: [
      { t: "Stealth",            score: { loch: 1 } },
      { t: "Warning signs",      score: { mothman: 1 } },
      { t: "Raw power",          score: { sas: 1 } },
      { t: "Cold endurance",     score: { wendigo: 1 } }
    ]},
    { q: "Best time of day:", answers: [
      { t: "Deep night",         score: { mothman: 1 } },
      { t: "Dawn mist",          score: { loch: 1 } },
      { t: "Midday trek",        score: { sas: 1 } },
      { t: "Snowy twilight",     score: { wendigo: 1 } }
    ]},
    { q: "Choose a companion:", answers: [
      { t: "Owl",                score: { mothman: 1 } },
      { t: "Otter",              score: { loch: 1 } },
      { t: "Wolf",               score: { wendigo: 1 } },
      { t: "Bear",               score: { sas: 1 } }
    ]}
  ],
  results: {
    wendigo: { name: "Wendigo",    desc: "Feral focus, winter soul, relentless drive." },
    mothman: { name: "Mothman",    desc: "Omen of virality — mysterious but magnetic." },
    loch:    { name: "Loch Legend",desc: "Calm, deep, timeless — quiet power grows." },
    sas:     { name: "Sasquatch",  desc: "Grounded, unstoppable, a gentle giant." }
  }
};

/* ---- RENDER + LOGIC ---- */
(function(){
  const root = document.querySelector('.quiz-container');
  const data = QUIZ_DATA;

  root.querySelector('.quiz-title').textContent = data.title;
  root.querySelector('.quiz-intro').textContent = data.intro;

  const qWrap = root.querySelector('.quiz-questions');
  data.questions.forEach((q, qi) => {
    const li = document.createElement('li');
    li.innerHTML = `<strong>${qi + 1}. ${q.q}</strong>`;
    q.answers.forEach(a => {
      const label = document.createElement('label');
      label.innerHTML = `<input type="radio" name="q${qi}" value='${JSON.stringify(a.score)}'> ${a.t}`;
      li.appendChild(label);
    });
    qWrap.appendChild(li);
  });

  const btn = root.querySelector('.quiz-submit');
  const total = data.questions.length;

  root.addEventListener('change', () => {
    const answered = new Set([...root.querySelectorAll('input[type=radio]:checked')].map(i => i.name));
    btn.disabled = answered.size !== total;
  });

  btn.addEventListener('click', () => {
    const checked = root.querySelectorAll('input[type=radio]:checked');
    const tally = {};
    checked.forEach(i => {
      const scores = JSON.parse(i.value);
      Object.entries(scores).forEach(([k, v]) => { tally[k] = (tally[k] || 0) + Number(v); });
    });

    const top = Object.entries(tally).sort((a,b) => b[1] - a[1])[0][0];
    const r = data.results[top];

    root.querySelector('.result-title').textContent = r.name;
    root.querySelector('.result-desc').textContent  = r.desc;

    const cta = root.querySelector('.result-cta');
    if (r.cta && r.cta.label && r.cta.url) {
      cta.textContent = r.cta.label;
      cta.href = r.cta.url;
      cta.style.display = 'inline-block';
    } else {
      cta.style.display = 'none';
    }

    const resultBox = root.querySelector('.quiz-result');
    resultBox.style.display = 'block';
    resultBox.scrollIntoView({ behavior: 'smooth', block: 'center' });
  });
})();
</script>
</body>
</html>
